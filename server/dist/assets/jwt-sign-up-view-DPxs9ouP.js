import{j as e,B as c,T as b,u as w,a as v,r as S,b as I,s as B,L as u,R as f,I as F,c as P,d as L,p as T,A as y,e as D}from"./index-DC6IA9vk.js";import{z as a,u as A,F as d,L as N,a as k,t as E}from"./form-provider-CnDpyY_L.js";function q({sx:r,icon:s,title:n,description:i,...o}){return e.jsxs(e.Fragment,{children:[s&&e.jsx(c,{component:"span",display:"inline-flex",sx:{mx:"auto",mb:3},children:s}),e.jsxs(c,{gap:1.5,display:"flex",flexDirection:"column",sx:{mb:5,textAlign:"center",whiteSpace:"pre-line",...r},...o,children:[e.jsx(b,{variant:"h5",children:n}),i&&e.jsx(b,{variant:"body2",sx:{color:"text.secondary"},children:i})]})]})}const C=a.object({email:a.string().min(1,{message:"Email is required!"}),password:a.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function z(){const r=w(),{checkUserSession:s}=v(),[n,i]=S.useState(""),o=I(),m={email:"admin",password:"123456"},x=A({resolver:E(C),defaultValues:m}),{handleSubmit:p,formState:{isSubmitting:g}}=x,h=p(async l=>{try{await B({username:l.email,password:l.password}),await(s==null?void 0:s()),r.refresh()}catch(t){console.error(t),i(typeof t=="string"?t:t.message)}}),j=e.jsxs(c,{gap:3,display:"flex",flexDirection:"column",children:[e.jsx(d.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsxs(c,{gap:1.5,display:"flex",flexDirection:"column",children:[e.jsx(u,{component:f,href:"#",variant:"body2",color:"inherit",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(d.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:o.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(P,{onClick:o.onToggle,edge:"end",children:e.jsx(L,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}})]}),e.jsx(N,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:g,loadingIndicator:"Sign in...",children:"Sign in"})]});return e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Sign in to your account",description:e.jsxs(e.Fragment,{children:["Donâ€™t have an account? ",e.jsx(u,{component:f,href:T.auth.jwt.signUp,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),e.jsxs(y,{severity:"info",sx:{mb:3},children:["Use ",e.jsx("strong",{children:m.email})," with password ",e.jsx("strong",{children:m.password})]}),!!n&&e.jsx(y,{severity:"error",sx:{mb:3},children:n}),e.jsx(k,{methods:x,onSubmit:h,children:j})]})}function M({sx:r,...s}){return e.jsxs(c,{component:"span",sx:{mt:3,display:"block",textAlign:"center",typography:"caption",color:"text.secondary",...r},...s,children:["By signing up, I agree to ",e.jsx(u,{underline:"always",color:"text.primary",children:"Terms of service"})," and ",e.jsx(u,{underline:"always",color:"text.primary",children:"Privacy policy"}),"."]})}const R=a.object({firstName:a.string().min(1,{message:"First name is required!"}),lastName:a.string().min(1,{message:"Last name is required!"}),email:a.string().min(1,{message:"Email is required!"}).email({message:"Email must be a valid email address!"}),password:a.string().min(1,{message:"Password is required!"}).min(6,{message:"Password must be at least 6 characters!"})});function G(){const{checkUserSession:r}=v(),s=w(),n=I(),[i,o]=S.useState(""),m={firstName:"Hello",lastName:"Friend",email:"hello@gmail.com",password:"@demo1"},x=A({resolver:E(R),defaultValues:m}),{handleSubmit:p,formState:{isSubmitting:g}}=x,h=p(async l=>{try{await D({email:l.email,password:l.password,firstName:l.firstName,lastName:l.lastName}),await(r==null?void 0:r()),s.refresh()}catch(t){console.error(t),o(typeof t=="string"?t:t.message)}}),j=e.jsxs(c,{gap:3,display:"flex",flexDirection:"column",children:[e.jsxs(c,{display:"flex",gap:{xs:3,sm:2},flexDirection:{xs:"column",sm:"row"},children:[e.jsx(d.Text,{name:"firstName",label:"First name",InputLabelProps:{shrink:!0}}),e.jsx(d.Text,{name:"lastName",label:"Last name",InputLabelProps:{shrink:!0}})]}),e.jsx(d.Text,{name:"email",label:"Email address",InputLabelProps:{shrink:!0}}),e.jsx(d.Text,{name:"password",label:"Password",placeholder:"6+ characters",type:n.value?"text":"password",InputLabelProps:{shrink:!0},InputProps:{endAdornment:e.jsx(F,{position:"end",children:e.jsx(P,{onClick:n.onToggle,edge:"end",children:e.jsx(L,{icon:n.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(N,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:g,loadingIndicator:"Create account...",children:"Create account"})]});return e.jsxs(e.Fragment,{children:[e.jsx(q,{title:"Get started absolutely free",description:e.jsxs(e.Fragment,{children:["Already have an account? ",e.jsx(u,{component:f,href:T.auth.jwt.signIn,variant:"subtitle2",children:"Get started"})]}),sx:{textAlign:{xs:"center",md:"left"}}}),!!i&&e.jsx(y,{severity:"error",sx:{mb:3},children:i}),e.jsx(k,{methods:x,onSubmit:h,children:j}),e.jsx(M,{})]})}export{z as J,G as a};
