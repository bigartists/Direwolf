import{Z as q,j as e,$ as b,Y as O,a0 as x,a1 as A,a2 as B,a3 as F,a4 as U,T as I,r as g,a5 as T,a6 as V,a7 as k,a8 as L,X as K,a9 as X,B as l,d as z,L as E,R as Y,aa as Z,U as J,n as _,b as Q,W as P,o as ee,V as se,H as ae,C as re}from"./index-DZueDDJj.js";import{g as oe,f as te,z as h,u as ne,t as le,a as ie,D as ce,F as f,b as de,L as ue}from"./form-provider-sd5uen5K.js";import{a as pe,u as me}from"./model-BDl9xZsk.js";import"./index-D4deD8HK.js";const xe=q(e.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),ge=["slots","slotProps"],he=b(O)(({theme:s})=>x({display:"flex",marginLeft:`calc(${s.spacing(1)} * 0.5)`,marginRight:`calc(${s.spacing(1)} * 0.5)`},s.palette.mode==="light"?{backgroundColor:s.palette.grey[100],color:s.palette.grey[700]}:{backgroundColor:s.palette.grey[700],color:s.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":x({},s.palette.mode==="light"?{backgroundColor:s.palette.grey[200]}:{backgroundColor:s.palette.grey[600]}),"&:active":x({boxShadow:s.shadows[0]},s.palette.mode==="light"?{backgroundColor:A(s.palette.grey[200],.12)}:{backgroundColor:A(s.palette.grey[600],.12)})})),be=b(xe)({width:24,height:16});function fe(s){const{slots:a={},slotProps:o={}}=s,r=B(s,ge),n=s;return e.jsx("li",{children:e.jsx(he,x({focusRipple:!0},r,{ownerState:n,children:e.jsx(be,x({as:a.CollapsedIcon,ownerState:n},o.collapsedIcon))}))})}function ye(s){return U("MuiBreadcrumbs",s)}const je=F("MuiBreadcrumbs",["root","ol","li","separator"]),Ce=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],ve=s=>{const{classes:a}=s;return L({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},ye,a)},Me=b(I,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(s,a)=>[{[`& .${je.li}`]:a.li},a.root]})({}),Be=b("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(s,a)=>a.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),we=b("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(s,a)=>a.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Se(s,a,o,r){return s.reduce((n,t,i)=>(i<s.length-1?n=n.concat(t,e.jsx(we,{"aria-hidden":!0,className:a,ownerState:r,children:o},`separator-${i}`)):n.push(t),n),[])}const Re=g.forwardRef(function(a,o){const r=T({props:a,name:"MuiBreadcrumbs"}),{children:n,className:t,component:i="nav",slots:c={},slotProps:d={},expandText:u="Show path",itemsAfterCollapse:y=1,itemsBeforeCollapse:j=1,maxItems:C=8,separator:p="/"}=r,w=B(r,Ce),[D,H]=g.useState(!1),v=x({},r,{component:i,expanded:D,expandText:u,itemsAfterCollapse:y,itemsBeforeCollapse:j,maxItems:C,separator:p}),M=ve(v),W=V({elementType:c.CollapsedIcon,externalSlotProps:d.collapsedIcon,ownerState:v}),N=g.useRef(null),G=m=>{const R=()=>{H(!0);const $=N.current.querySelector("a[href],button,[tabindex]");$&&$.focus()};return j+y>=m.length?m:[...m.slice(0,j),e.jsx(fe,{"aria-label":u,slots:{CollapsedIcon:c.CollapsedIcon},slotProps:{collapsedIcon:W},onClick:R},"ellipsis"),...m.slice(m.length-y,m.length)]},S=g.Children.toArray(n).filter(m=>g.isValidElement(m)).map((m,R)=>e.jsx("li",{className:M.li,children:m},`child-${R}`));return e.jsx(Me,x({ref:o,component:i,color:"text.secondary",className:k(M.root,t),ownerState:v},w,{children:e.jsx(Be,{className:M.ol,ref:N,ownerState:v,children:Se(D||C&&S.length<=C?S:G(S),M.separator,p,v)})}))});function _e(s){return U("MuiCard",s)}F("MuiCard",["root"]);const Ie=["className","raised"],Te=s=>{const{classes:a}=s;return L({root:["root"]},_e,a)},ke=b(K,{name:"MuiCard",slot:"Root",overridesResolver:(s,a)=>a.root})(()=>({overflow:"hidden"})),Le=g.forwardRef(function(a,o){const r=T({props:a,name:"MuiCard"}),{className:n,raised:t=!1}=r,i=B(r,Ie),c=x({},r,{raised:t}),d=Te(c);return e.jsx(ke,x({className:k(d.root,n),elevation:t?8:void 0,ref:o,ownerState:c},i))}),De=["className","id"],Ne=s=>{const{classes:a}=s;return L({root:["root"]},oe,a)},$e=b(I,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(s,a)=>a.root})({padding:"16px 24px",flex:"0 0 auto"}),Ae=g.forwardRef(function(a,o){const r=T({props:a,name:"MuiDialogTitle"}),{className:n,id:t}=r,i=B(r,De),c=r,d=Ne(c),{titleId:u=t}=g.useContext(X);return e.jsx($e,x({component:"h2",className:k(d.root,n),ownerState:c,ref:o,variant:"h6",id:t??u},i))});function Fe({name:s,title:a,percent:o,total:r,model:n,icon:t,sx:i,...c}){return l,z,o<0,{...o<0&&{color:"error.main"}},o>0,te(o),e.jsxs(Le,{sx:{p:2,pl:3,display:"flex",alignItems:"center",...i},...c,children:[e.jsxs(l,{sx:{flexGrow:1},children:[e.jsx(l,{sx:{color:"text.secondary",typography:"subtitle2"},children:a}),e.jsx(l,{sx:{my:1.5,typography:"h4"},children:s})]}),e.jsx(l,{sx:{width:50,height:50,lineHeight:0,borderRadius:"50%",bgcolor:"background.neutral"},children:t})]})}function Ue({link:s,activeLast:a,disabled:o}){const r={typography:"body2",alignItems:"center",color:"text.primary",display:"inline-flex",...o&&!a&&{cursor:"default",pointerEvents:"none",color:"text.disabled"}},n=e.jsxs(e.Fragment,{children:[s.icon&&e.jsx(l,{component:"span",sx:{mr:1,display:"inherit","& svg, & img":{width:20,height:20}},children:s.icon}),s.name]});return s.href?e.jsx(E,{component:Y,href:s.href,sx:r,children:n}):e.jsxs(l,{sx:r,children:[" ",n," "]})}function ze({links:s,action:a,heading:o,moreLink:r,activeLast:n,slotProps:t,sx:i,...c}){const d=s[s.length-1].name,u=e.jsx(I,{variant:"h4",sx:{mb:2,...t==null?void 0:t.heading},children:o}),y=e.jsx(Re,{separator:e.jsx(Ee,{}),sx:t==null?void 0:t.breadcrumbs,...c,children:s.map((p,w)=>e.jsx(Ue,{link:p,activeLast:n,disabled:p.name===d},p.name??w))}),j=e.jsxs(l,{sx:{flexShrink:0,...t==null?void 0:t.action},children:[" ",a," "]}),C=e.jsx(l,{component:"ul",children:r==null?void 0:r.map(p=>e.jsx(l,{component:"li",sx:{display:"flex"},children:e.jsx(E,{href:p,variant:"body2",target:"_blank",rel:"noopener",sx:t==null?void 0:t.moreLink,children:p})},p))});return e.jsxs(l,{gap:2,display:"flex",flexDirection:"column",sx:i,...c,children:[e.jsxs(l,{display:"flex",alignItems:"center",children:[e.jsxs(l,{sx:{flexGrow:1},children:[o&&u,!!s.length&&y]}),a&&j]}),!!r&&C]})}function Ee(){return e.jsx(l,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})}const He=h.object({model_type:h.string().min(1,{message:"Model_type is required!"}),name:h.string(),avatar:h.string(),model:h.string().min(1,{message:"Model is required!"}),api_key:h.string().min(1,{message:"Api_key is required!"}),base_url:h.string().min(1,{message:"Base_url is required!"})});function We({open:s,onClose:a}){const{trigger:o}=pe(),r={name:"",avatar:"",model:"",api_key:"",base_url:"",model_type:"llm"},n=ne({mode:"all",resolver:le(He),defaultValues:r}),{handleSubmit:t,formState:{isSubmitting:i}}=n,c=t(async d=>{try{const u={name:d.name||d.model,avatar:d.avatar,model:d.model,model_type:d.model_type,api_key:d.api_key,base_url:d.base_url};console.log("ðŸš€ ~ onSubmit ~ params:",u),await o(u)}catch(u){console.error(u)}});return e.jsx(Z,{fullWidth:!0,maxWidth:"sm",open:s,onClose:a,children:e.jsxs(ie,{methods:n,onSubmit:c,children:[e.jsx(Ae,{children:"æ·»åŠ æ¨¡åž‹"}),e.jsx(ce,{dividers:!0,children:e.jsxs(J,{spacing:3,children:[e.jsx(f.RadioGroup,{row:!0,label:"Model Type",name:"model_type",options:[{label:"LLM",value:"llm"},{label:"Others",value:"others"}]}),e.jsx(f.Text,{name:"avatar",label:"avatar url"}),e.jsx(f.Text,{name:"name",label:"Model alias"}),e.jsx(f.Text,{name:"model",label:"Model"}),e.jsx(f.Text,{name:"api_key",label:"Api Key"}),e.jsx(f.Text,{name:"base_url",label:"Base Url"})]})}),e.jsxs(de,{children:[e.jsx(l,{sx:{flexGrow:1},children:e.jsx(_,{variant:"soft",color:"error",onClick:a,children:"Delete"})}),e.jsx(_,{color:"inherit",variant:"outlined",onClick:a,children:"Cancel"}),e.jsx(ue,{type:"submit",variant:"contained",loading:i,children:"Create"})]})]})})}function Ge({title:s="Blank"}){const{modelList:a}=me();console.log("ðŸš€ ~ MultiLLMChat ~ modelList:",a);const o=Q();return e.jsxs(P,{maxWidth:"xl",children:[e.jsx(ze,{heading:s,links:[{name:"basic ability"},{name:"models"}],action:e.jsx(_,{variant:"contained",startIcon:e.jsx(z,{icon:"mingcute:add-line"}),onClick:o.onTrue,children:"æ·»åŠ æ¨¡åž‹"}),sx:{mb:{xs:3,md:5}}}),e.jsx(l,{sx:{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(4, 1fr)"}},children:ee.isArray(a)?a.map(r=>e.jsx(Fe,{title:"LLM",percent:2.6,name:r.name,model:r.model,sx:{p:n=>n.spacing(1.5,1,1.5,2)},icon:e.jsx(se,{src:r.avatar,sx:{width:50,height:50}})},r.model)):null}),e.jsx(We,{open:o.value,onClose:o.onFalse})]})}const qe={title:`Page Models | Dashboard - ${re.appName}`};function Ye(){return e.jsxs(e.Fragment,{children:[e.jsx(ae,{children:e.jsxs("title",{children:[" ",qe.title]})}),e.jsx(Ge,{title:"æ¨¡åž‹åˆ—è¡¨"})]})}export{Ye as default};
